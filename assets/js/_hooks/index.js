/*
This file was generated by the Surface compiler.
*/

import MetricChart from "../metric_chart";

export default {
  Modal: {
    mounted() {
      this.handleEvent("device_added", (data) => {
        let event = new CustomEvent("modal-close");
        window.dispatchEvent(event);
      })
    }
  },

  MetricChart: {
    mounted() {
      const {labels, datasets} = JSON.parse(this.el.dataset.dataseries);

        this.chart = new MetricChart(this.el, labels, datasets);
    },

    updated() {
      const { action, labels, datasets } = JSON.parse(this.el.dataset.dataseries);

      if (action === "update") {
        this.chart.updateTwo(labels, datasets);
      } else if (action === "newMetric") {
        this.chart.update(labels, datasets);
      }
    }
  }
}
